function removeExtraSpaces(e){return e.replace(/\s{2,}/g," ")}function debounce(e,t){let o;return function(){let n=this,a=arguments,i=function(){o=null,e.apply(n,a)};clearTimeout(o),o=setTimeout(i,t)}}function getObjectInDocPosition(e="body"){let t=document.querySelector(e);for(var o=0,n=0;t;){if("BODY"==t.tagName){var a=t.scrollLeft||document.documentElement.scrollLeft,i=t.scrollTop||document.documentElement.scrollTop;o+=t.offsetLeft-a+t.clientLeft,n+=t.offsetTop-i+t.clientTop}else o+=t.offsetLeft-t.scrollLeft+t.clientLeft,n+=t.offsetTop-t.scrollTop+t.clientTop;t=t.offsetParent}return{x:o,y:n}}function getObjectInViewportPosition(e="body"){el=document.querySelector(e);var t=el.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}function getOjiValues(e="body"){return el=document.querySelector(e),{object:{absoluteWidth:el.getAttribute("data-oji-object-absolute-width"),absoluteHeight:el.getAttribute("data-oji-object-absolute-height"),aspectRatio:el.getAttribute("data-oji-object-aspect-ratio"),relativeAreaOfViewport:el.getAttribute("data-oji-object-relative-area-of-viewport"),relativeAreaInViewportVisible:el.getAttribute("data-oji-object-relative-area-in-viewport-visible"),relativeAreaOfDocument:el.getAttribute("data-oji-object-relative-area-of-document"),relativeAreaInDocumentVisible:el.getAttribute("data-oji-object-relative-area-in-document-visible"),fontSizePx:el.getAttribute("data-oji-object-font-size-px"),fontSizeRem:el.getAttribute("data-oji-object-font-size-rem"),fontSizeVw:el.getAttribute("data-oji-object-font-size-vw"),fontFamily:el.getAttribute("data-oji-object-font-family"),color:el.getAttribute("data-oji-object-color"),backgroundColor:el.getAttribute("data-oji-object-background-color"),colorContrast:el.getAttribute("data-oji-object-color-contrast")}}}function getOjiComparison(e,t){let o=getOjiValues(e),n=getOjiValues(t);getOji.calculate(e),getOji.calculate(t);let a={overlap:areasOverlap(e,t),area:o.object.relativeAreaInDocumentVisible===n.object.relativeAreaInDocumentVisible?"Same Size":"Different Size",fontSize:o.object.fontSizePx===n.object.fontSizePx,colorContrast:o.object.colorContrast===n.object.colorContrast};return a}function areasOverlap(e,t){let o=document.querySelector(e),n=document.querySelector(t),a=o.getBoundingClientRect(),i=n.getBoundingClientRect();return!(a.right<i.left||a.left>i.right||a.bottom<i.top||a.top>i.bottom)}function ojiAdd(e,t=!0,o=!0){let n=document.querySelectorAll(e);n.forEach(e=>{e.setAttribute("data-oji",""),getOji.calculate(e),t&&e.setAttribute("data-oji-attributes",""),o&&e.setAttribute("data-oji-debug","")})}function ojiRemove(e){let t=document.querySelectorAll(e);t.forEach(e=>{Array.from(e.attributes).forEach(t=>{t.name.startsWith("data-oji")&&e.removeAttribute(t.name)});let t=e.querySelector(".oji-debug-container");t&&e.removeChild(t)})}function ojiFinished(e,t=100){if("function"!=typeof e)return;const o=debounce(e,t),n=new MutationObserver(o);n.observe(document.body,{attributes:!0,childList:!0,subtree:!0});let a=["load","resize","scroll","click","focus","blur","mouseup","touch"];a.forEach(e=>{window.addEventListener(e,o)}),o()}let getOji={global:{},elements:{},finished:function(){}};(function(){function e(e="TestString"){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function t(e){let t="";for(let o in e){t+=o+": { ";for(let n in e[o]){let a=n.replace(/([A-Z])/g,"-$1").toLowerCase(),i=e[o][n];t+=`${a}: ${i}`+(Object.keys(e[o])[Object.keys(e[o]).length-1]===n?"":", ")}t+=" }, "}return t=t.trim().slice(0,-1),t}function o(e){function t(e,t=0){let a=n.repeat(t);for(let t in e){o+=`${a}${t}: {<br>`;for(let i in e[t]){let r=i.replace(/([A-Z])/g,"-$1").toLowerCase(),l=e[t][i];o+=`${a}${n}${r}: <b>${l}</b>;<br>`}o+=`${a}},<br>`}}let o='<div style="white-space: pre;">';const n="    ";return t(e),o+="</div>",o}function n(){let e=document.createElement("div");e.style.display="none",document.body.appendChild(e);let t=parseFloat(window.getComputedStyle(e).fontSize);return document.body.removeChild(e),t}function a(){g()}function i(e){for(let t of e)if("attributes"===t.type){const e=j.getAttribute(t.attributeName);switch(t.attributeName){case`data-${$}-attributes-active`:"false"===e?c():l();break;case`data-${$}-debug-active`:"false"===e?m():h();break;case`data-${$}-active`:"false"===e?f():a()}}}function r(){randomId=Math.floor(9999*Math.random())}function l(){g()}function c(){document.querySelectorAll(`[data-${$}]`).forEach(e=>{Array.from(e.attributes).forEach(t=>{t.name.startsWith(`data-${$}-`)&&![`data-${$}-debug`,`data-${$}-summary`,`data-${$}-attributes`,`data-${$}-id`].includes(t.name)&&e.removeAttribute(t.name)})})}function d(e){return e.replace("px","").replace("%","").replace("rem","").replace("vw","")}function u(e=[128,128,128]){let t=e.map(function(e){return e/=255,e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)});return.2126*t[0]+.7152*t[1]+.0722*t[2]}function b(e,t){let o=u(e),n=u(t),a=Math.max(o,n),i=Math.min(o,n);return(a+.05)/(i+.05)}function s(e){"transparent"!==e&&"none"!==e||(e="rgb(255, 255, 255)");let t=e.match(/\d+/g).map(Number);return t}function g(){if("true"===document.body.getAttribute(`data-${$}-active`)){let a=document.querySelectorAll(`[data-${$}]`);for(var n=0;n<a.length;n++){let i=a[n],r=i.hasAttribute(`data-${$}-attributes`)||i.hasAttribute(`data-${p.slug.long}-attributes`)||i.hasAttribute(`data-${p.slug.short}-attributes`),l=i.hasAttribute(`data-${$}-debug`)||i.hasAttribute(`data-${p.slug.long}-debug`)||i.hasAttribute(`data-${p.slug.short}-debug`),c=i.getAttribute(`data-${$}-summary`),u=(document.body.getAttribute(`data-${$}-summary-active`),window.scrollX),g=window.scrollY,m=window.getComputedStyle(i),h=parseFloat(m.width),f=parseFloat(m.height),j=Math.round(h),v=Math.round(f),w=document.documentElement.scrollWidth,x=document.body.scrollHeight,A=(100/w*j).toFixed(1),O=(100/x*v).toFixed(1),S=window.innerWidth,M=window.innerHeight,T=(100/S*h).toFixed(2),F=(100/M*f).toFixed(2),z=i.getBoundingClientRect(),C=z.top,E=window.innerWidth-z.right,q=window.innerHeight-z.bottom,k=z.left,L=(100/S*k).toFixed(2),V=(100/S*E).toFixed(2),R=(100/M*C).toFixed(2),I=(100/M*q).toFixed(2),D=(100/w*(k+u)).toFixed(2),P=(100-100*(k+u+h)/w).toFixed(2),W=(100/x*(C+g)).toFixed(2),H=(100-100*(C+g+f)/x).toFixed(2),B=k+u,N=w-(k+u+h),G=C+g,Z=x-(C+g+f),Y=window.getComputedStyle(i),U=parseInt(Y.getPropertyValue("font-size")),X=U,J=U/16,K=parseFloat(100/S*U).toFixed(2),Q=`${Y.getPropertyValue("font-family")}`,_=`${Y.getPropertyValue("color")}`,ee=`${Y.getPropertyValue("background-color")}`,te=s(_),oe=s(ee),ne=b(te,oe).toFixed(2);"transparent"!==ee&&"none"!==ee||(ee="white"),"transparent"!==_&&"none"!==_||(_="white");let ae=S*M,ie=w*x,re=h*f,le=Math.max(B,0),ce=Math.min(B+h,S),de=Math.max(0,ce-le),ue=Math.max(C,0),be=Math.min(C+f,M),se=Math.max(0,be-ue),ge=de*se,me=(ge/re*100).toFixed(2),he=Math.max(B,0),fe=Math.min(B+h,w),pe=Math.max(0,fe-he),$e=Math.max(G,0),je=Math.min(G+f,x),ve=Math.max(0,je-$e),we=pe*ve,xe=(we/re*100).toFixed(2),ye={info:{name:p.info.name,id:randomId+"-"+n,attribute:p.attribute,slug:p.slug},object:{absoluteWidth:`${j}px`,absoluteHeight:`${v}px`,aspectRatio:`1:${(h/f).toFixed(2)}`,relativeAreaOfViewport:(re/ae*100).toFixed(2)+"%",relativeAreaInViewportVisible:`${me}%`,relativeAreaOfDocument:(re/ie*100).toFixed(2)+"%",relativeAreaInDocumentVisible:`${xe}%`,fontSizePx:X+"px",fontSizeRem:J+"rem",fontSizeVw:K+"vw",fontFamily:Q,color:_,backgroundColor:ee,colorContrast:ne},viewport:{absoluteWidth:`${S}px`,absoluteHeight:`${M}px`,aspectRatio:`1:${(S/M).toFixed(2)}`,relativeObjectWidth:`${T}%`,relativeObjectHeight:`${F}%`,relativeSpacingToObjectTop:`${R}%`,relativeSpacingToObjectRight:`${V}%`,relativeSpacingToObjectBottom:`${I}%`,relativeSpacingToObjectLeft:`${L}%`,absoluteSpacingToObjectTop:`${Math.round(C)}px`,absoluteSpacingToObjectRight:`${Math.round(E)}px`,absoluteSpacingToObjectBottom:`${Math.round(q)}px`,absoluteSpacingToObjectLeft:`${Math.round(k)}px`},document:{absoluteWidth:`${w}px`,absoluteHeight:`${x}px`,aspectRatio:`1:${(w/x).toFixed(2)}`,relativeObjectWidth:`${A}%`,relativeObjectHeight:`${O}%`,relativeSpacingToObjectTop:`${W}%`,relativeSpacingToObjectRight:`${P}%`,relativeSpacingToObjectBottom:`${H}%`,relativeSpacingToObjectLeft:`${D}%`,absoluteSpacingToObjectTop:`${Math.round(G)}px`,absoluteSpacingToObjectRight:`${Math.round(N)}px`,absoluteSpacingToObjectBottom:`${Math.round(Z)}px`,absoluteSpacingToObjectLeft:`${Math.round(B)}px`}};if(getOji.elements[parseInt(n)]=ye,r&&"true"===document.body.getAttribute("data-oji-attributes-active")&&["object","viewport","document"].forEach(t=>{for(const[o,n]of Object.entries(ye[t])){const a=e(o);i.setAttribute(`data-${$}-${t}-${a}`,d(n))}}),"false"!==c&&i.setAttribute(`data-${$}-summary`,t(ye)),"true"===document.body.getAttribute(`data-${$}-debug-active`)&&l){let e=i.querySelector(`.${$}-debug-container`);if("false"===y)return void e.remove();e||(e=document.createElement("div"),e.setAttribute("class",`${$}-debug-container`),i.appendChild(e)),e.innerHTML=`<code>${o(ye)}</code>`,i.setAttribute(`data-${$}-id`,`${randomId}-${n}`)}}}return getOji.calculate=g,getOji}function m(){console.log("oji debug functionality disabled");let e=document.querySelector(".oji-global-debug-container");e&&e.remove(),document.querySelectorAll(`[data-${$}][data-${$}-debug]`).forEach(e=>{let t=e.querySelector(`.${$}-debug-container`);console.log(e),e.setAttribute(`data-${$}-debug`,"false"),t&&t.remove()}),document.body.setAttribute(`data-${$}-debug-active`,"false")}function m(){console.log("oji debug functionality disabled");let e=document.querySelector(".oji-global-debug-container");e&&e.remove(),document.querySelectorAll(`[data-${$}][data-${$}-debug]`).forEach(e=>{let t=e.querySelector(`.${$}-debug-container`);t&&t.remove()})}function h(){console.log("oji debug functionality enabled"),g()}function f(){console.log("oji functionality disabled"),document.querySelectorAll(`.${$}-debug-container, .${$}-global-debug-container`).forEach(e=>{e.remove()}),document.querySelectorAll(`[data-${$}]`).forEach(e=>{Array.from(e.attributes).forEach(t=>{t.name.startsWith(`data-${$}-`)&&![`data-${$}-debug`,`data-${$}-attributes`,`data-${$}-id`].includes(t.name)&&(!0===y&&console.log("Removing:",t.name),e.removeAttribute(t.name))})})}const p={info:{name:"oji.js",version:"0.2",id:r()},attribute:"oji",slug:{short:"oji",long:"object-info"},debounce:parseInt(document.body.getAttribute("data-oji-debounce"))||1e3,user:{agent:navigator.userAgent,os:navigator.platform,lang:navigator.language||navigator.userLanguage,fontSize:`${n()}px`,screen:{height:window.screen.height,width:window.screen.width,dimensions:`${window.screen.height}x${window.screen.width}px`,aspectRatio:`1:${(window.screen.width/window.screen.height).toFixed(2)}`,pixels:`${window.screen.width*window.screen.height}`}},DOM:{nodes:parseInt(document.getElementsByTagName("*").length),lang:document.documentElement.lang||document.lang},events:["load","resize","scroll","click","mousedown","mouseup","touch"]};getOji.global=p;p.info.name;const $=p.attribute,j=(p.info.version,document.querySelector("body")),v=document.querySelectorAll(`[data-${$}]`).length,w=document.querySelector(`[data-${$}]`),x=document.querySelector(`[data-${$}][data-${$}-attributes]`),y=document.querySelector(`[data-${$}][data-${$}-debug]`),A="false"!==document.querySelector(`[data-${$}-summary-active]`);if(w&&j.setAttribute(`data-${$}-active`,"true"),w&&x?j.setAttribute(`data-${$}-attributes-active`,"true"):j.setAttribute(`data-${$}-attributes-active`,"false"),A){const e=document.querySelectorAll(`[data-${$}-summary]`);e.forEach(e=>{e.removeAttribute(`data-${$}-summary`)})}let O=j.getAttribute(`data-${$}-debug-active`);if(j.setAttribute(`data-${$}-debug-active`,`${O||"true"}`),"false"===document.body.getAttribute(`data-${$}-debug-active`))return;j.setAttribute(`data-${$}-debug-active`,"true"),debugGlobalContainer=document.createElement("div"),debugGlobalContainer.setAttribute("class",`${$}-global-debug-container`),debugGlobalContainer.innerHTML=`\n        <div>\n        <p><b>${p.info.name}</b></p>\n        <hr>\n        <section class="${$}-global-debug-infos">\n        <p>Attributes <br><b>[data-${$}]</b></p>\n        <p># of oji Objects<br><b>${v}</b></p>\n        <hr>\n        <p>User Agent<br>\n        Browser: <b>${p.user.agent}</b>,<br>\n        Language: <b>${p.user.lang}</b>,<br>\n        Font Size: <b>${p.user.fontSize}</b>,<br>\n        </b>\n        <hr>\n        <p>Operating System:<br><b>${p.user.os}</b></p>\n        <hr>\n        <p>Monitor<br>\n            Height: <b>${p.user.screen.height}px</b>,<br>\n            Width: <b>${p.user.screen.width}px</b>,<br>\n            Dimension: <b>${p.user.screen.dimensions}</b>,<br>\n            # of Pixels: <b>${p.user.screen.pixels}px</b>,<br>\n            Aspect Ratio: <b>${p.user.screen.aspectRatio}</b>,<br>\n        </p>\n        <hr>\n        <p>DOM<b><br>\n        Nodes:${p.DOM.nodes},<br>\n        Language:${p.DOM.lang},<br>\n        </b>\n        </p>\n        <hr>\n        </section>\n        </div>`,document.body.appendChild(debugGlobalContainer);let S=Math.floor(256*Math.random()),M=Math.floor(256*Math.random()),T=Math.floor(256*Math.random());style=document.createElement("style"),style.textContent=removeExtraSpaces(`\n        .${$}-debug-container, .${$}-global-debug-container {\n            --${$}-max-width: min(320px, 100%);\n            --${$}-text: #000;\n            --${$}-outline-width: 3px;\n            --${$}-shadow-large: 0 0 1rem rgba(0,0,0,0.33);\n            --${$}-shadow-small: 0 0 0.1em rgba(0,0,0,0.5);\n            --${$}-px: 1.5px;\n            --${$}-font-size: 10px;\n\n        }\n        .oji-debug-container {\n            font-size: var(--${$}-font-size) !important;\n        }\n        [data-${$}-debug][data-${$}-id]  {\n            position: relative;\n            outline-width: var(--${$}-outline-width);\n            outline-style: solid;\n            outline-offset: calc(var(--${$}-px) * -1);\n            box-shadow: var(--${$}-shadow-large);\n        }\n\n        .${$}-debug-container hr, .${$}-global-debug-container hr {\n            background-color: rgba(0,0,0,0.1);\n            height: var(--${$}-px);\n            border:none;\n            margin-block: 1em;\n        }\n        .${$}-global-debug-container,\n        [data-${$}-debug] .${$}-debug-container {\n            font-size: var(--${$}-font-size) !important;\n            border-radius: 0.5em;\n            background-color: #ffffffb3;\n            color: #000;\n            -webkit-backdrop-filter: blur(0.5em);\n            backdrop-filter: blur(0.5em);\n            text-shadow: 0.05em 0.05em 0.1em rgba(0,0,0,0.5);\n            box-shadow: var(--${$}-shadow-small);\n            max-width: min(100%, var(--${$}-max-width));\n            min-width: min(100%, calc(var(--${$}-max-width) / 2));\n            max-height: calc(100% - 1rem);\n            word-break: break-word;\n            <!-- font-size: 0.66em; -->\n            line-height: 1.25;\n            font-family: monospace;\n            z-index: 9999;\n            text-shadow: 0 0 1px rgba(0,0,0, 0.33);       \n            overflow:scroll;\n            min-height: calc(var(--${$}-max-width) / 1.5);\n            padding: 1em;\n        }\n        [data-${$}-debug] .${$}-debug-container {\n            opacity: 0.66;\n            position: absolute;\n            top: 0.5rem;\n            left: 0.5rem;\n            right: 0.5rem;\n            outline-color:rgb(${S}, ${M}, ${T})\n        }\n\n        .${$}-global-debug-container {\n            position: fixed;\n            right: 0.5rem;\n            bottom: 0.5rem;\n        }\n\n        .${$}-global-debug-container hr, p {\n            margin-block: 0.5rem;\n            \n        }\n        [data-${$}-debug]:hover .object-${$}-container:hover {\n            opacity: 1;\n        }\n        @media (prefers-color-scheme: dark) {\n            [data-${$}-debug] {\n                box-shadow: var(--${$}-shadow-large);\n\n            }\n            [data-${$}-debug].object-${$}-container {\n                background-color: #000000b3;\n                color: #fff;\n            }\n        }`),document.head.appendChild(style),style.setAttribute("id","oji-styles");for(var F=debounce(g,parseInt(p.debounce)),z=0;z<p.events.length;z++){let e=p.events[z];window.addEventListener(e,F)}y&&console.log("oji.js is initialized and working!");const C=new MutationObserver(i);C.observe(j,{attributes:!0})})(),getOji.trimWhitespace=removeExtraSpaces,getOji.debounce=debounce,getOji.documentPosition=getObjectInDocPosition,getOji.viewportPosition=getObjectInViewportPosition,getOji.values=getOjiValues,getOji.compare=getOjiComparison,getOji.add=ojiAdd,getOji.remove=ojiRemove,getOji.finished=ojiFinished,window.oji=getOji,window.oji.finished(()=>{console.log("oji.js is finished calculating the object info for the elements in the DOM.")});