function getObjectInDocPosition(t="body"){let e=document.querySelector(t);for(var o=0,a=0;e;){if("BODY"==e.tagName){var n=e.scrollLeft||document.documentElement.scrollLeft,i=e.scrollTop||document.documentElement.scrollTop;o+=e.offsetLeft-n+e.clientLeft,a+=e.offsetTop-i+e.clientTop}else o+=e.offsetLeft-e.scrollLeft+e.clientLeft,a+=e.offsetTop-e.scrollTop+e.clientTop;e=e.offsetParent}return{x:o,y:a}}function getObjectInViewportPosition(t="body"){el=document.querySelector(t);var e=el.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function getOjiValues(t="body"){return el=document.querySelector(t),{object:{absoluteWidth:el.getAttribute("data-oji-object-absolute-width"),absoluteHeight:el.getAttribute("data-oji-object-absolute-height"),aspectRatio:el.getAttribute("data-oji-object-aspect-ratio"),relativeAreaOfViewport:el.getAttribute("data-oji-object-relative-area-of-viewport"),relativeAreaInViewportVisible:el.getAttribute("data-oji-object-relative-area-in-viewport-visible"),relativeAreaOfDocument:el.getAttribute("data-oji-object-relative-area-of-document"),relativeAreaInDocumentVisible:el.getAttribute("data-oji-object-relative-area-in-document-visible"),fontSizePx:el.getAttribute("data-oji-object-font-size-px"),fontSizeRem:el.getAttribute("data-oji-object-font-size-rem"),fontSizeVw:el.getAttribute("data-oji-object-font-size-vw"),fontFamily:el.getAttribute("data-oji-object-font-family"),color:el.getAttribute("data-oji-object-color"),backgroundColor:el.getAttribute("data-oji-object-background-color"),colorContrast:el.getAttribute("data-oji-object-color-contrast")}}}function getOjiComparison(t="body",e="section"){let o=document.querySelector(t),a=document.querySelector(e),n={area:{bigger:parseFloat(o.getAttribute("data-oji-object-relative-area-of-document"))>parseFloat(a.getAttribute("data-oji-object-relative-area-of-document")),smaller:parseFloat(o.getAttribute("data-oji-object-relative-area-of-document"))<parseFloat(a.getAttribute("data-oji-object-relative-area-of-document")),same:parseFloat(o.getAttribute("data-oji-object-relative-area-of-document"))===parseFloat(a.getAttribute("data-oji-object-relative-area-of-document")),hasOverlap:areasOverlap(t,e)},fontSize:{bigger:o.getAttribute("data-oji-object-font-size-px")>a.getAttribute("data-oji-object-font-size-px"),smaller:o.getAttribute("data-oji-object-font-size-px")<a.getAttribute("data-oji-object-font-size-px"),same:o.getAttribute("data-oji-object-font-size-px")===a.getAttribute("data-oji-object-font-size-px")},color:{higherContrast:o.getAttribute("data-oji-object-color-contrast")>a.getAttribute("data-oji-object-color-contrast"),lowerContrast:o.getAttribute("data-oji-object-color-contrast")<a.getAttribute("data-oji-object-color-contrast"),same:o.getAttribute("data-oji-object-color-contrast")===a.getAttribute("data-oji-object-color-contrast")}};return n}function areasOverlap(t,e){let o=document.querySelector(t),a=document.querySelector(e),n=o.getBoundingClientRect(),i=a.getBoundingClientRect();return!(n.right<i.left||n.left>i.right||n.bottom<i.top||n.top>i.bottom)}let getOji={global:{},elements:{}};(function(){function t(t,e){let o;return function(){let a=this,n=arguments,i=function(){o=null,t.apply(a,n)};clearTimeout(o),o=setTimeout(i,e)}}function e(t="TestString"){return t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function o(t){let e="";for(let o in t){e+=o+": { ";for(let a in t[o]){let n=a.replace(/([A-Z])/g,"-$1").toLowerCase(),i=t[o][a];e+=`${n}: ${i}`+(Object.keys(t[o])[Object.keys(t[o]).length-1]===a?"":", ")}e+=" }, "}return e=e.trim().slice(0,-1),e}function a(t){function e(t,e=0){let n=a.repeat(e);for(let e in t){o+=`${n}${e}: {<br>`;for(let i in t[e]){let r=i.replace(/([A-Z])/g,"-$1").toLowerCase(),l=t[e][i];o+=`${n}${a}${r}: <b>${l}</b>;<br>`}o+=`${n}},<br>`}}let o='<div style="white-space: pre;">';const a="    ";return e(t),o+="</div>",o}function n(){let t=document.createElement("div");t.style.display="none",document.body.appendChild(t);let e=parseFloat(window.getComputedStyle(t).fontSize);return document.body.removeChild(t),e}function i(){m()}function r(t){for(let e of t)if("attributes"===e.type){const t=v.getAttribute(e.attributeName);switch(e.attributeName){case`data-${j}-attributes-active`:"false"===t?d():c();break;case`data-${j}-debug-active`:"false"===t?p():f();break;case`data-${j}-active`:"false"===t?h():i()}}}function l(){randomId=Math.floor(9999*Math.random())}function c(){m()}function d(){document.querySelectorAll(`[data-${j}]`).forEach(t=>{Array.from(t.attributes).forEach(e=>{e.name.startsWith(`data-${j}-`)&&![`data-${j}-debug`,`data-${j}-summary`,`data-${j}-attributes`,`data-${j}-id`].includes(e.name)&&t.removeAttribute(e.name)})})}function u(t){return t.replace("px","").replace("%","").replace("rem","").replace("vw","")}function b(t=[128,128,128]){let e=t.map(function(t){return t/=255,t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)});return.2126*e[0]+.7152*e[1]+.0722*e[2]}function s(t,e){let o=b(t),a=b(e),n=Math.max(o,a),i=Math.min(o,a);return(n+.05)/(i+.05)}function g(t){"transparent"!==t&&"none"!==t||(t="rgb(255, 255, 255)");let e=t.match(/\d+/g).map(Number);return e}function m(){if("true"===document.body.getAttribute(`data-${j}-active`)){let n=document.querySelectorAll(`[data-${j}]`);for(var t=0;t<n.length;t++){let i=n[t],r=i.hasAttribute(`data-${j}-attributes`)||i.hasAttribute(`data-${$.slug.long}-attributes`)||i.hasAttribute(`data-${$.slug.short}-attributes`),l=i.hasAttribute(`data-${j}-debug`)||i.hasAttribute(`data-${$.slug.long}-debug`)||i.hasAttribute(`data-${$.slug.short}-debug`),c=i.getAttribute(`data-${j}-summary`),d=(document.body.getAttribute(`data-${j}-summary-active`),window.scrollX),b=window.scrollY,m=window.getComputedStyle(i),p=parseFloat(m.width),f=parseFloat(m.height),h=Math.round(p),v=Math.round(f),w=document.documentElement.scrollWidth,x=document.body.scrollHeight,A=(100/w*h).toFixed(1),O=(100/x*v).toFixed(1),S=window.innerWidth,M=window.innerHeight,F=(100/S*p).toFixed(2),T=(100/M*f).toFixed(2),z=i.getBoundingClientRect(),C=z.top,q=window.innerWidth-z.right,k=window.innerHeight-z.bottom,L=z.left,E=(100/S*L).toFixed(2),R=(100/S*q).toFixed(2),V=(100/M*C).toFixed(2),I=(100/M*k).toFixed(2),P=(100/w*(L+d)).toFixed(2),D=(100-100*(L+d+p)/w).toFixed(2),H=(100/x*(C+b)).toFixed(2),W=(100-100*(C+b+f)/x).toFixed(2),B=L+d,N=w-(L+d+p),G=C+b,Z=x-(C+b+f),Y=window.getComputedStyle(i),U=parseInt(Y.getPropertyValue("font-size")),X=U,J=U/16,K=parseFloat(100/S*U).toFixed(2),Q=`${Y.getPropertyValue("font-family")}`,_=`${Y.getPropertyValue("color")}`,tt=`${Y.getPropertyValue("background-color")}`,et=g(_),ot=g(tt),at=s(et,ot).toFixed(2);"transparent"!==tt&&"none"!==tt||(tt="white"),"transparent"!==_&&"none"!==_||(_="white");let nt=S*M,it=w*x,rt=p*f,lt=Math.max(B,0),ct=Math.min(B+p,S),dt=Math.max(0,ct-lt),ut=Math.max(C,0),bt=Math.min(C+f,M),st=Math.max(0,bt-ut),gt=dt*st,mt=(gt/rt*100).toFixed(2),pt=Math.max(B,0),ft=Math.min(B+p,w),ht=Math.max(0,ft-pt),$t=Math.max(G,0),jt=Math.min(G+f,x),vt=Math.max(0,jt-$t),wt=ht*vt,xt=(wt/rt*100).toFixed(2),At={info:{name:$.info.name,id:randomId+"-"+t,attribute:$.attribute,slug:$.slug},object:{absoluteWidth:`${h}px`,absoluteHeight:`${v}px`,aspectRatio:`1:${(p/f).toFixed(2)}`,relativeAreaOfViewport:(rt/nt*100).toFixed(2)+"%",relativeAreaInViewportVisible:`${mt}%`,relativeAreaOfDocument:(rt/it*100).toFixed(2)+"%",relativeAreaInDocumentVisible:`${xt}%`,fontSizePx:X+"px",fontSizeRem:J+"rem",fontSizeVw:K+"vw",fontFamily:Q,color:_,backgroundColor:tt,colorContrast:at},viewport:{absoluteWidth:`${S}px`,absoluteHeight:`${M}px`,aspectRatio:`1:${(S/M).toFixed(2)}`,relativeObjectWidth:`${F}%`,relativeObjectHeight:`${T}%`,relativeSpacingToObjectTop:`${V}%`,relativeSpacingToObjectRight:`${R}%`,relativeSpacingToObjectBottom:`${I}%`,relativeSpacingToObjectLeft:`${E}%`,absoluteSpacingToObjectTop:`${Math.round(C)}px`,absoluteSpacingToObjectRight:`${Math.round(q)}px`,absoluteSpacingToObjectBottom:`${Math.round(k)}px`,absoluteSpacingToObjectLeft:`${Math.round(L)}px`},document:{absoluteWidth:`${w}px`,absoluteHeight:`${x}px`,aspectRatio:`1:${(w/x).toFixed(2)}`,relativeObjectWidth:`${A}%`,relativeObjectHeight:`${O}%`,relativeSpacingToObjectTop:`${H}%`,relativeSpacingToObjectRight:`${D}%`,relativeSpacingToObjectBottom:`${W}%`,relativeSpacingToObjectLeft:`${P}%`,absoluteSpacingToObjectTop:`${Math.round(G)}px`,absoluteSpacingToObjectRight:`${Math.round(N)}px`,absoluteSpacingToObjectBottom:`${Math.round(Z)}px`,absoluteSpacingToObjectLeft:`${Math.round(B)}px`}};if(getOji.elements[parseInt(t)]=At,r&&"true"===document.body.getAttribute("data-oji-attributes-active")&&["object","viewport","document"].forEach(t=>{for(const[o,a]of Object.entries(At[t])){const n=e(o);i.setAttribute(`data-${j}-${t}-${n}`,u(a))}}),"false"!==c&&i.setAttribute(`data-${j}-summary`,o(At)),"true"===document.body.getAttribute(`data-${j}-debug-active`)&&l){let e=i.querySelector(`.${j}-debug-container`);if("false"===y)return void e.remove();e||(e=document.createElement("div"),e.setAttribute("class",`${j}-debug-container`),i.appendChild(e)),e.innerHTML=`<code>${a(At)}</code>`,i.setAttribute(`data-${j}-id`,`${randomId}-${t}`)}}}return getOji}function p(){console.log("oji debug functionality disabled");let t=document.querySelector(".oji-global-debug-container");t&&t.remove(),document.querySelectorAll(`[data-${j}][data-${j}-debug]`).forEach(t=>{let e=t.querySelector(`.${j}-debug-container`);console.log(t),t.setAttribute(`data-${j}-debug`,"false"),e&&e.remove()}),document.body.setAttribute(`data-${j}-debug-active`,"false")}function p(){console.log("oji debug functionality disabled");let t=document.querySelector(".oji-global-debug-container");t&&t.remove(),document.querySelectorAll(`[data-${j}][data-${j}-debug]`).forEach(t=>{let e=t.querySelector(`.${j}-debug-container`);e&&e.remove()})}function f(){console.log("oji debug functionality enabled"),m()}function h(){console.log("oji functionality disabled"),document.querySelectorAll(`.${j}-debug-container, .${j}-global-debug-container`).forEach(t=>{t.remove()}),document.querySelectorAll(`[data-${j}]`).forEach(t=>{Array.from(t.attributes).forEach(e=>{e.name.startsWith(`data-${j}-`)&&![`data-${j}-debug`,`data-${j}-attributes`,`data-${j}-id`].includes(e.name)&&(!0===y&&console.log("Removing:",e.name),t.removeAttribute(e.name))})})}const $={info:{name:"oji.js",version:"0.2",id:l()},attribute:"oji",slug:{short:"oji",long:"object-info"},debounce:parseInt(document.body.getAttribute("data-oji-debounce"))||1e3,user:{agent:navigator.userAgent,os:navigator.platform,lang:navigator.language||navigator.userLanguage,fontSize:`${n()}px`,screen:{height:window.screen.height,width:window.screen.width,dimensions:`${window.screen.height}x${window.screen.width}px`,aspectRatio:`1:${(window.screen.width/window.screen.height).toFixed(2)}`,pixels:`${window.screen.width*window.screen.height}`}},DOM:{nodes:parseInt(document.getElementsByTagName("*").length),lang:document.documentElement.lang||document.lang},events:["load","resize","scroll","click","mousedown","mouseup","touch"]};getOji.global=$;$.info.name;const j=$.attribute,v=($.info.version,document.querySelector("body")),w=document.querySelectorAll(`[data-${j}]`).length,x=document.querySelector(`[data-${j}]`),A=document.querySelector(`[data-${j}][data-${j}-attributes]`),y=document.querySelector(`[data-${j}][data-${j}-debug]`);x&&v.setAttribute(`data-${j}-active`,"true"),x&&A?v.setAttribute(`data-${j}-attributes-active`,"true"):v.setAttribute(`data-${j}-attributes-active`,"false");let O=v.getAttribute(`data-${j}-debug-active`);if(v.setAttribute(`data-${j}-debug-active`,`${O||"true"}`),"false"===document.body.getAttribute(`data-${j}-debug-active`))return;v.setAttribute(`data-${j}-debug-active`,"true"),debugGlobalContainer=document.createElement("div"),debugGlobalContainer.setAttribute("class",`${j}-global-debug-container`),debugGlobalContainer.innerHTML=`\n        <div>\n        <p><b>${$.info.name}</b></p>\n        <hr>\n        <section class="${j}-global-debug-infos">\n        <p>Attributes <br><b>[data-${j}]</b></p>\n        <p># of oji Objects<br><b>${w}</b></p>\n        <hr>\n        <p>User Agent<br>\n        Browser: <b>${$.user.agent}</b>,<br>\n        Language: <b>${$.user.lang}</b>,<br>\n        Font Size: <b>${$.user.fontSize}</b>,<br>\n        </b>\n        <hr>\n        <p>Operating System:<br><b>${$.user.os}</b></p>\n        <hr>\n        <p>Monitor<br>\n            Height: <b>${$.user.screen.height}px</b>,<br>\n            Width: <b>${$.user.screen.width}px</b>,<br>\n            Dimension: <b>${$.user.screen.dimensions}</b>,<br>\n            # of Pixels: <b>${$.user.screen.pixels}px</b>,<br>\n            Aspect Ratio: <b>${$.user.screen.aspectRatio}</b>,<br>\n        </p>\n        <hr>\n        <p>DOM<b><br>\n        Nodes:${$.DOM.nodes},<br>\n        Language:${$.DOM.lang},<br>\n        </b>\n        </p>\n        <hr>\n        </section>\n        </div>`,document.body.appendChild(debugGlobalContainer);let S=Math.floor(256*Math.random()),M=Math.floor(256*Math.random()),F=Math.floor(256*Math.random());style=document.createElement("style"),style.textContent=`\n        .${j}-debug-container, .${j}-global-debug-container {\n            --${j}-max-width: min(320px, 100%);\n            --${j}-text: #000;\n            --${j}-outline-width: 3px;\n            --${j}-shadow-large: 0 0 1rem rgba(0,0,0,0.33);\n            --${j}-shadow-small: 0 0 0.1em rgba(0,0,0,0.5);\n            --${j}-px: 1.5px;\n            --${j}-font-size: 10px;\n\n        }\n        .oji-debug-container {\n            font-size: var(--${j}-font-size) !important;\n        }\n        [data-${j}-debug][data-${j}-id]  {\n            position: relative;\n            outline-width: var(--${j}-outline-width);\n            outline-style: solid;\n            outline-offset: calc(var(--${j}-px) * -1);\n            box-shadow: var(--${j}-shadow-large);\n        }\n\n        .${j}-debug-container hr, .${j}-global-debug-container hr {\n            background-color: rgba(0,0,0,0.1);\n            height: var(--${j}-px);\n            border:none;\n            margin-block: 1em;\n        }\n        .${j}-global-debug-container,\n        [data-${j}-debug] .${j}-debug-container {\n            font-size: var(--${j}-font-size) !important;\n            border-radius: 0.5em;\n            background-color: #ffffffb3;\n            color: #000;\n            -webkit-backdrop-filter: blur(0.5em);\n            backdrop-filter: blur(0.5em);\n            text-shadow: 0.05em 0.05em 0.1em rgba(0,0,0,0.5);\n            box-shadow: var(--${j}-shadow-small);\n            max-width: min(100%, var(--${j}-max-width));\n            min-width: min(100%, calc(var(--${j}-max-width) / 2));\n            max-height: calc(100% - 1rem);\n            word-break: break-word;\n            <!-- font-size: 0.66em; -->\n            line-height: 1.25;\n            font-family: monospace;\n            z-index: 9999;\n            text-shadow: 0 0 1px rgba(0,0,0, 0.33);       \n            overflow:scroll;\n            min-height: calc(var(--${j}-max-width) / 1.5);\n            padding: 1em;\n        }\n        [data-${j}-debug] .${j}-debug-container {\n            opacity: 0.66;\n            position: absolute;\n            top: 0.5rem;\n            left: 0.5rem;\n            right: 0.5rem;\n            outline-color:rgb(${S}, ${M}, ${F})\n        }\n\n        .${j}-global-debug-container {\n            position: fixed;\n            right: 0.5rem;\n            bottom: 0.5rem;\n        }\n\n        .${j}-global-debug-container hr, p {\n            margin-block: 0.5rem;\n            \n        }\n        [data-${j}-debug]:hover .object-${j}-container:hover {\n            opacity: 1;\n        }\n        @media (prefers-color-scheme: dark) {\n            [data-${j}-debug] {\n                box-shadow: var(--${j}-shadow-large);\n\n            }\n            [data-${j}-debug].object-${j}-container {\n                background-color: #000000b3;\n                color: #fff;\n            }\n        }`,document.head.appendChild(style),style.setAttribute("id","oji-styles");for(var T=t(m,parseInt($.debounce)),z=0;z<$.events.length;z++){let t=$.events[z];window.addEventListener(t,T)}y&&console.log("oji.js is initialized and working!");const C=new MutationObserver(r);C.observe(v,{attributes:!0})})(),getOji.documentPosition=getObjectInDocPosition,getOji.viewportPosition=getObjectInViewportPosition,getOji.values=getOjiValues,getOji.compare=getOjiComparison,window.oji=getOji;