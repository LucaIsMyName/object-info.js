(function(){function e(){for(var e=document.querySelectorAll(`[data-${h}]`),t=0;t<e.length;t++){let n=e[t],o=n.hasAttribute(`data-${h}-attributes`)||n.hasAttribute(`data-${b.slug.long}-attributes`)||n.hasAttribute(`data-${b.slug.short}-attributes`),a=n.hasAttribute(`data-${h}-debug`)||n.hasAttribute(`data-${b.slug.long}-debug`)||n.hasAttribute(`data-${b.slug.short}-debug`),r=n.getAttribute(`data-${h}-summary`),c=(document.body.getAttribute(`data-${h}-summary-active`),window.scrollX),m=window.scrollY,g=window.getComputedStyle(n),$=parseFloat(g.width),p=parseFloat(g.height),f=Math.round($),w=Math.round(p),x=document.documentElement.scrollWidth,v=document.body.scrollHeight,y=(100/x*f).toFixed(1),M=(100/v*w).toFixed(1),S=window.innerWidth,A=window.innerHeight,j=(100/S*$).toFixed(2),F=(100/A*p).toFixed(2),C=n.getBoundingClientRect(),k=C.top,O=window.innerWidth-C.right,E=window.innerHeight-C.bottom,z=C.left,D=(100/S*z).toFixed(2),L=(100/S*O).toFixed(2),R=(100/A*k).toFixed(2),H=(100/A*E).toFixed(2),T=(100/x*(z+c)).toFixed(2),W=(100-100*(z+c+$)/x).toFixed(2),I=(100/v*(k+m)).toFixed(2),V=(100-100*(k+m+p)/v).toFixed(2),q=z+c,N=x-(z+c+$),B=k+m,P=v-(k+m+p),G=window.getComputedStyle(n),Z=parseInt(G.getPropertyValue("font-size")),U=Z,X=Z/16,Y=parseFloat(100/S*Z).toFixed(2),J=`${G.getPropertyValue("font-family")}`,K=`${G.getPropertyValue("color")}`,Q=`${G.getPropertyValue("background-color")}`,_=l(K),ee=l(Q),te=d(_,ee).toFixed(2),ne=S*A,oe=x*v,ae=$*p,ie=Math.max(q,0),re=Math.min(q+$,S),de=Math.max(0,re-ie),le=Math.max(k,0),ue=Math.min(k+p,A),se=Math.max(0,ue-le),ce=de*se,be=(ce/ae*100).toFixed(2),he=Math.max(q,0),me=Math.min(q+$,x),ge=Math.max(0,me-he),$e=Math.max(B,0),pe=Math.min(B+p,v),fe=Math.max(0,pe-$e),we=ge*fe,xe=(we/ae*100).toFixed(2),ve={info:{id:randomId+"-"+t},object:{absoluteWidth:`${f}px`,absoluteHeight:`${w}px`,aspectRatio:`1:${($/p).toFixed(2)}`,relativeAreaInViewport:(ae/ne*100).toFixed(2)+"%",relativeAreaInViewportVisible:`${be}%`,relativeAreaInDocument:(ae/oe*100).toFixed(2)+"%",relativeAreaInDocumentVisible:`${xe}%`,fontSizePx:U+"px",fontSizeRem:X+"rem",fontSizeVw:Y+"vw",fontFamily:J,color:K,backgroundColor:Q,colorContrast:te},viewport:{absoluteWidth:`${S}px`,absoluteHeight:`${A}px`,aspectRatio:`1:${(S/A).toFixed(2)}`,relativeObjectWidth:`${j}%`,relativeObjectHeight:`${F}%`,relativeSpacingTop:`${R}%`,relativeSpacingRight:`${L}%`,relativeSpacingBottom:`${H}%`,relativeSpacingLeft:`${D}%`,absoluteSpacingTop:`${Math.round(k)}px`,absoluteSpacingRight:`${Math.round(O)}px`,absoluteSpacingBottom:`${Math.round(E)}px`,absoluteSpacingLeft:`${Math.round(z)}px`},document:{absoluteWidth:`${x}px`,absoluteHeight:`${v}px`,aspectRatio:`1:${(x/v).toFixed(2)}`,relativeObjectWidth:`${y}%`,relativeObjectHeight:`${M}%`,relativeSpacingTop:`${I}%`,relativeSpacingRight:`${W}%`,relativeSpacingBottom:`${V}%`,relativeSpacingLeft:`${T}%`,absoluteSpacingTop:`${Math.round(B)}px`,absoluteSpacingRight:`${Math.round(N)}px`,absoluteSpacingBottom:`${Math.round(P)}px`,absoluteSpacingLeft:`${Math.round(q)}px`}};if(o&&"true"===document.body.getAttribute("data-oji-attributes-active")&&["object","viewport","document"].forEach(e=>{for(const[t,o]of Object.entries(ve[e])){const a=i(t);n.setAttribute(`data-${h}-${e}-${a}`,o)}}),"false"!==r&&n.setAttribute(`data-${h}-summary`,u(ve)),a){let e=n.querySelector(`.${h}-debug-container`);e||(e=document.createElement("div"),e.setAttribute("class",`${h}-debug-container`),n.appendChild(e)),e.innerHTML=`<code>${s(ve)}</code>`,n.setAttribute(`data-${h}-id`,`${randomId}-${t}`)}}}function t(e){for(let t of e)if("attributes"===t.type){console.log(`The ${t.attributeName} attribute was modified.`);const e=m.getAttribute(t.attributeName);switch(t.attributeName){case"data-oji-attributes-active":"false"===e?o():n()}}}function n(){console.log("oji attributes functionality enabled"),e()}function o(){console.log("oji attributes functionality disabled"),document.querySelectorAll(`[data-${h}]`).forEach(e=>{Array.from(e.attributes).forEach(t=>{t.name.startsWith(`data-${h}-`)&&![`data-${h}-debug`,`data-${h}-summary`,`data-${h}-attributes`,`data-${h}-id`].includes(t.name)&&(console.log("Removing:",t.name),e.removeAttribute(t.name))})})}function a(e,t){let n;return function(){let o=this,a=arguments,i=function(){n=null,e.apply(o,a)};clearTimeout(n),n=setTimeout(i,t)}}function i(e="TestString"){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function r(e=[128,128,128]){let t=[e.r,e.g,e.b].map(function(e){return e/=255,e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)});return.2126*t[0]+.7152*t[1]+.0722*t[2]}function d(e,t){let n=r(e),o=r(t),a=Math.max(n,o),i=Math.min(n,o);return(a+.05)/(i+.05)}function l(e){let t=document.createElement("div");t.style.color=e,document.body.appendChild(t);let n=getComputedStyle(t).color.match(/^rgb\s*\(\s*(\d+),\s*(\d+),\s*(\d+)\s*\)$/);return document.body.removeChild(t),n?{r:n[1],g:n[2],b:n[3]}:null}function u(e){let t="";for(let n in e){t+=n+": { ";for(let o in e[n]){let a=o.replace(/([A-Z])/g,"-$1").toLowerCase(),i=e[n][o];t+=`${a}: ${i}`+(Object.keys(e[n])[Object.keys(e[n]).length-1]===o?"":", ")}t+=" }, "}return t=t.trim().slice(0,-1),t}function s(e){function t(e,t=0){let a=o.repeat(t);for(let t in e){n+=`${a}${t}: {<br>`;for(let i in e[t]){let r=i.replace(/([A-Z])/g,"-$1").toLowerCase(),d=e[t][i];n+=`${a}${o}${r}: <b>${d}</b>;<br>`}n+=`${a}},<br>`}}let n='<div style="white-space: pre;">';const o="    ";return t(e),n+="</div>",n}function c(){let e=document.createElement("div");e.style.display="none",document.body.appendChild(e);let t=parseFloat(window.getComputedStyle(e).fontSize);return document.body.removeChild(e),console.log("Default font size:",t),t}const b={info:{name:"oji.js",version:"0.1"},attribute:"oji",slug:{short:"oji",long:"object-info"},debounce:0,user:{agent:navigator.userAgent,os:navigator.platform,lang:navigator.language||navigator.userLanguage,fontSize:`${c()}px`,screen:{height:window.screen.height,width:window.screen.width,dimensions:`${window.screen.height}x${window.screen.width}px`,aspectRatio:`1:${(window.screen.width/window.screen.height).toFixed(2)}`,pixels:`${window.screen.width*window.screen.height}`}},DOM:{nodes:parseInt(document.getElementsByTagName("*").length),lang:document.documentElement.lang||document.lang},events:["load","resize","scroll","click","focus","blur","mousedown","mouseup","touch"]},h=(b.info.name,b.attribute),m=(b.info.version,document.querySelector("body")),g=document.querySelectorAll(`[data-${h}]`).length,$=document.querySelector(`[data-${h}]`),p=document.querySelector(`[data-${h}][data-${h}-attributes]`),f=document.querySelector(`[data-${h}][data-${h}-debug]`);$?(m.setAttribute(`data-${h}-active`,"true"),console.log(`Element found in the DOM that has the [data-${h}] attribute set.`)):console.log(`No Element found in the DOM that has the [data-${h}] attribute set.`),$&&p?(m.setAttribute(`data-${h}-attributes-active`,"true"),console.log(`Element found in the DOM that has the [data-${h}-attributes] attribute set.`)):(m.setAttribute(`data-${h}-attributes-active`,"false"),console.log(`No Element found in the DOM that has the [data-${h}-attributes] attribute set.`)),$&&f?(m.setAttribute(`data-${h}-debug-active`,"true"),debugGlobalContainer=document.createElement("div"),debugGlobalContainer.setAttribute("class",`${h}-global-debug-container`),debugGlobalContainer.innerHTML=`<div>\n        <p><b>${b.info.name}</b></p>\n        <hr>\n        <section class="${h}-global-debug-infos">\n        <p>Attributes <br><b>[data-${h}]</b></p>\n        <p># of oji Objects<br><b>${g}</b></p>\n        <hr>\n        <p>User Agent<br>\n        Browser: <b>${b.user.agent}</b>,<br>\n        Language: <b>${b.user.lang}</b>,<br>\n        Font Size: <b>${b.user.fontSize}</b>,<br>\n        </b>\n        <hr>\n        <p>Operating System:<br><b>${b.user.os}</b></p>\n        <hr>\n        <p>Monitor<br>\n            Height: <b>${b.user.screen.height}px</b>,<br>\n            Width: <b>${b.user.screen.width}px</b>,<br>\n            Dimension: <b>${b.user.screen.dimensions}</b>,<br>\n            # of Pixels: <b>${b.user.screen.pixels}px</b>,<br>\n            Aspect Ratio: <b>${b.user.screen.aspectRatio}</b>,<br>\n        </p>\n        <hr>\n        <p>DOM<b><br>\n        Nodes:${b.DOM.nodes},<br>\n        Language:${b.DOM.lang},<br>\n        </b>\n        </p>\n        <hr>\n        </section>\n        </div>`,document.body.appendChild(debugGlobalContainer),console.log(`Element found in the DOM that has the [data-${h}-debug] attribute set.`)):(m.setAttribute(`data-${h}-debug-active`,"false"),console.log(`No Element found in the DOM that has the [data-${h}-debug] attribute set.`));const w=Math.floor(256*Math.random()),x=Math.floor(256*Math.random()),v=Math.floor(256*Math.random());randomId=Math.floor(9999*Math.random()),style=document.createElement("style"),style.textContent=`\n        :root {\n            --${h}-max-width: min(320px, 100%);\n        }\n\n        :where([data-${h}-debug]):where([data-${h}-id])  {\n            position: relative;\n            outline-width: 3px;\n            outline-style: solid;\n            outline-offset: -1.5px;\n            box-shadow: 0 0 1rem rgba(0,0,0,0.33);\n        }\n\n        :where(.${h}-debug-container, .${h}-global-debug-container) hr {\n            background-color: black;\n            height: 1px;\n            border:none;\n            margin-block: 1rem;\n        }\n\n        :where([data-${h}-debug]) :where(.${h}-debug-container) {\n            opacity: 0.66;\n            position: absolute;\n            top: 0.5rem;\n            left: 0.5rem;\n            right: 0.5rem;\n            padding: 1em;\n            border-radius: 0.5em;\n            background-color: #ffffffb3;\n            color: #000;\n            backdrop-filter: blur(0.5em);\n            text-shadow: 0.05em 0.05em 0.1em rgba(0,0,0,0.5);\n            box-shadow: 0 0 0.1em rgba(0,0,0,0.5);\n            max-width: min(100%, var(--oji-max-width));\n            min-width: min(100%, calc(var(--oji-max-width) / 2));\n            max-height: calc(100% - 1rem);\n            word-break: break-word;\n            font-size: 0.66rem;\n            line-height: 1.25;\n            font-family: monospace;\n            z-index: 9999;\n            text-shadow: 0 0 1px rgba(0,0,0, 0.33);       \n            overflow:scroll;\n            min-height: calc(var(--oji-max-width) / 1.5);\n            outline-color:rgb(${w}, ${x}, ${v})\n        }\n\n        :where(.${h}-global-debug-container) {\n            position: fixed;\n            right: 0.5rem;\n            bottom: 0.5rem;\n            padding: 1em;\n            border-radius: 0.5em;\n            background-color: #ffffffb3;\n            color: #000;\n            backdrop-filter: blur(0.5em);\n            text-shadow: 0.05em 0.05em 0.1em rgba(0,0,0,0.5);\n            box-shadow: 0 0 0.1em rgba(0,0,0,0.5);\n            max-width: min(100%, var(--oji-max-width));\n            min-width: min(100%, calc(var(--oji-max-width) / 2));\n            max-height: calc(100% - 1rem);\n            /* word-break: break-word; */\n            font-size: 0.66rem;\n            line-height: 1.25;\n            font-family: monospace;\n            z-index: 9999;\n            text-shadow: 0 0 1px rgba(0,0,0, 0.33);       \n            overflow:scroll;\n            min-height: calc(var(--oji-max-width) / 1.5);\n          \n        }\n\n        :where(.${h}-global-debug-container :where(hr, p)) {\n            margin-block: 0.5rem;\n            \n        }\n        :where([data-${h}-debug]) :where(.object-${h}-container):hover {\n            opacity: 1;\n        }\n        @media (prefers-color-scheme: dark) {\n            :where([data-${h}-debug]) {\n                box-shadow: 0 0 1rem rgba(255,255,255,0.33);\n\n            }\n            :where([data-${h}-debug]):where(.object-${h}-container) {\n                background-color: #000000b3;\n                color: #fff;\n            }\n        }`,document.head.appendChild(style);for(var y=a(e,b.debounce||250),M=0;M<b.events.length;M++){let e=b.events[M];window.addEventListener(e,y)}f&&console.log("oji.js is initialized and working!");const S=new MutationObserver(t);S.observe(m,{attributes:!0})})();